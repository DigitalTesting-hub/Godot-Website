<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Godot AI Tools - AI-Powered GDScript Generator</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        :root {
            --primary: #ff6b35;
            --secondary: #2a2a2a;
            --accent: #00d9ff;
            --accent-light: #4de7ff;
            --light: #f8f9fa;
            --dark: #1a1a1a;
            --darker: #121212;
            --success: #28a745;
            --error: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--light);
            background: linear-gradient(135deg, var(--darker) 0%, #2d1b69 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .main-content {
            padding-top: 140px;
            min-height: 100vh;
        }

        .ai-tools-layout {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: fit-content;
            position: sticky;
            top: 140px;
        }

        .sidebar h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar-tabs {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--light);
            padding: 1rem;
            text-align: left;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 0.95rem;
            border: 1px solid transparent;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.08);
            color: var(--accent-light);
            border-color: rgba(0, 217, 255, 0.2);
            transform: translateX(5px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.15), rgba(0, 217, 255, 0.1));
            color: var(--accent);
            border: 1px solid rgba(0, 217, 255, 0.3);
            box-shadow: 0 4px 15px rgba(0, 217, 255, 0.1);
        }

        .tab-icon {
            font-size: 1.3rem;
            width: 30px;
            text-align: center;
        }

        .content-area {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary), #ff8e53);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-description {
            color: #ccc;
            margin-bottom: 2.5rem;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .api-config {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(0, 217, 255, 0.05));
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 107, 53, 0.3);
            margin-bottom: 2.5rem;
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.1);
        }

        .api-config h4 {
            color: var(--accent);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }

        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.7rem;
            color: var(--accent);
            font-weight: 600;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary), #e55a2b);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 107, 53, 0.4);
        }

        .btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--accent), #00b8d4);
        }

        .btn-secondary:hover {
            box-shadow: 0 10px 25px rgba(0, 217, 255, 0.4);
        }

        .output-area {
            margin-top: 2.5rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .output-header h4 {
            color: var(--accent);
            font-size: 1.3rem;
        }

        .code-output {
            background: #1a1a2e;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Cascadia Code', 'Consolas', monospace;
            color: #e0e0ff;
            overflow-x: auto;
            white-space: pre-wrap;
            min-height: 200px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .loading.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .spinner {
            border: 4px solid rgba(0, 217, 255, 0.1);
            border-top: 4px solid var(--accent);
            border-right: 4px solid var(--primary);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .message {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .message.show {
            display: block;
        }

        .error-message {
            background: linear-gradient(135deg, rgba(220, 53, 69, 0.2), rgba(220, 53, 69, 0.1));
            border: 1px solid var(--error);
            color: #ff6b6b;
        }

        .success-message {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.2), rgba(40, 167, 69, 0.1));
            border: 1px solid var(--success);
            color: #6bff88;
        }

        @media (max-width: 1024px) {
            .ai-tools-layout {
                grid-template-columns: 1fr;
            }
            .sidebar {
                position: relative;
                top: 0;
            }
            .sidebar-tabs {
                flex-direction: row;
                overflow-x: auto;
            }
            .tab-btn {
                min-width: 180px;
                white-space: nowrap;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding-top: 120px;
            }
            .content-area {
                padding: 1.5rem;
            }
            .section-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">GODOT AI TOOLS</div>
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="scripts.html">Scripts</a>
                    <a href="minicourses.html">Mini Courses</a>
                    <a href="services.html">Services</a>
                    <a href="pvp-game.html">PVP Game Course</a>
                    <a href="course.html">Course</a>
                    <a href="index.html#contact">Contact</a>
                </div>
                <a href="#generate" class="cta-button">Try AI Generator</a>
                <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
            </nav>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-header">
                <div class="mobile-menu-logo">GODOT AI TOOLS</div>
                <button class="mobile-close-btn" id="mobileCloseBtn">‚úï</button>
            </div>
            <div class="mobile-nav-links">
                <a href="index.html" onclick="closeMobileMenu()">Home</a>
                <a href="scripts.html" onclick="closeMobileMenu()">Scripts</a>
                <a href="minicourses.html" onclick="closeMobileMenu()">Mini Courses</a>
                <a href="services.html" onclick="closeMobileMenu()">Services</a>
                <a href="pvp-game.html" onclick="closeMobileMenu()">PVP Game Course</a>
                <a href="course.html" onclick="closeMobileMenu()">Course</a>
                <a href="index.html#contact" onclick="closeMobileMenu()">Contact</a>
                <a href="#generate" class="cta-button" onclick="closeMobileMenu()">Try AI Generator</a>
            </div>
        </div>
        <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    </header>

    <div class="main-content">
        <div class="container">
            <h1 style="text-align: center; margin-bottom: 0.5rem; font-size: 3rem; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Godot AI Tools</h1>
            <p style="text-align: center; color: var(--accent-light); margin-bottom: 2.5rem; font-size: 1.2rem;">Generate GDScript code instantly with AI</p>

            <div class="ai-tools-layout">
                <aside class="sidebar">
                    <h3>üöÄ AI Tools</h3>
                    <div class="sidebar-tabs">
                        <button class="tab-btn active" data-tab="script-generator">
                            <span class="tab-icon">ü§ñ</span>
                            <span>AI Script Generator</span>
                        </button>
                        <button class="tab-btn" data-tab="code-templates">
                            <span class="tab-icon">üìã</span>
                            <span>Code Templates</span>
                        </button>
                        <button class="tab-btn" data-tab="scene-generator">
                            <span class="tab-icon">üé¨</span>
                            <span>Scene Generator</span>
                        </button>
                        <button class="tab-btn" data-tab="code-refactor">
                            <span class="tab-icon">üîß</span>
                            <span>Code Refactor</span>
                        </button>
                        <button class="tab-btn" data-tab="debug-assistant">
                            <span class="tab-icon">üêõ</span>
                            <span>Debug Assistant</span>
                        </button>
                        <button class="tab-btn" data-tab="code-explainer">
                            <span class="tab-icon">üí°</span>
                            <span>Code Explainer</span>
                        </button>
                    </div>
                </aside>

                <main class="content-area">
                    <div class="tab-content active" id="script-generator">
                        <h2 class="section-title">ü§ñ AI Script Generator</h2>
                        <p class="section-description">Describe your game mechanic and get production-ready GDScript code instantly.</p>

                        <div class="api-config" id="generate">
                            <h4>‚öôÔ∏è AI Configuration</h4>
                            <div class="config-grid">
                                <div class="form-group">
                                    <label for="api-provider">AI Provider</label>
                                    <select id="api-provider">
                                        <option value="groq">Groq (Fast)</option>
                                        <option value="gemini">Google Gemini</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="api-model">AI Model</label>
                                    <select id="api-model"></select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="prompt">Describe what you want to create</label>
                            <textarea id="prompt" placeholder="Example: Create a 2D platformer player controller with double jump, wall slide, and dash mechanics." rows="4"></textarea>
                        </div>

                        <button class="btn" id="generate-btn">üöÄ Generate GDScript</button>

                        <div class="loading" id="loading">
                            <div class="spinner"></div>
                            <p>AI is generating your script...</p>
                        </div>

                        <div class="error-message message" id="error-message"></div>
                        <div class="success-message message" id="success-message"></div>

                        <div class="output-area" id="output-area" style="display: none;">
                            <div class="output-header">
                                <h4>‚ú® Generated GDScript</h4>
                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn-secondary" id="copy-btn">üìã Copy Code</button>
                                    <button class="btn-secondary" id="download-btn">üíæ Download</button>
                                </div>
                            </div>
                            <pre class="code-output" id="code-output"></pre>
                        </div>
                    </div>

                    <!-- Other tabs remain the same -->
                    <div class="tab-content" id="code-templates">
                        <h2 class="section-title">üìã Code Templates</h2>
                        <p class="section-description">Pre-built code templates for common Godot patterns.</p>
                    </div>
                    <div class="tab-content" id="scene-generator">
                        <h2 class="section-title">üé¨ Scene Generator</h2>
                        <p class="section-description">Coming Soon!</p>
                    </div>
                    <div class="tab-content" id="code-refactor">
                        <h2 class="section-title">üîß Code Refactor</h2>
                        <p class="section-description">Coming Soon!</p>
                    </div>
                    <div class="tab-content" id="debug-assistant">
                        <h2 class="section-title">üêõ Debug Assistant</h2>
                        <p class="section-description">Coming Soon!</p>
                    </div>
                    <div class="tab-content" id="code-explainer">
                        <h2 class="section-title">üí° Code Explainer</h2>
                        <p class="section-description">Coming Soon!</p>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script>
        // ========== SANJAY'S API KEYS ==========
        const API_KEYS = {
            groq: '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',
            gemini: 'AIzaSyCScOCC90fh1L2LybA3NYd63rAgb38M5j0'
        };
        
        // Model configurations
        const MODELS = {
            groq: [
                { value: 'llama-3.3-70b-versatile', label: 'Llama 3.3 70B (Best)' },
                { value: 'llama-3.1-8b-instant', label: 'Llama 3.1 8B (Fast)' },
                { value: 'mixtral-8x7b-32768', label: 'Mixtral 8x7B' }
            ],
            gemini: [
                { value: 'gemini-1.5-flash', label: 'Gemini 1.5 Flash' },
                { value: 'gemini-1.5-pro', label: 'Gemini 1.5 Pro' }
            ]
        };

        // Initialize tabs
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.dataset.tab;
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Initialize API provider dropdown
            const apiProvider = document.getElementById('api-provider');
            const apiModel = document.getElementById('api-model');

            function updateModels() {
                const provider = apiProvider.value;
                apiModel.innerHTML = '';
                
                MODELS[provider].forEach(model => {
                    const option = document.createElement('option');
                    option.value = model.value;
                    option.textContent = model.label;
                    apiModel.appendChild(option);
                });
            }

            apiProvider.addEventListener('change', updateModels);
            updateModels(); // Set initial models

            // Initialize generate button
            const generateBtn = document.getElementById('generate-btn');
            const promptInput = document.getElementById('prompt');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('error-message');
            const successMessage = document.getElementById('success-message');
            const outputArea = document.getElementById('output-area');
            const codeOutput = document.getElementById('code-output');
            const copyBtn = document.getElementById('copy-btn');
            const downloadBtn = document.getElementById('download-btn');

            generateBtn.addEventListener('click', async function() {
                const prompt = promptInput.value.trim();
                const provider = apiProvider.value;
                const model = apiModel.value;

                if (!prompt) {
                    showMessage('error', 'Please describe what you want to create.');
                    return;
                }

                // Show loading
                generateBtn.disabled = true;
                loading.classList.add('active');
                hideMessages();
                outputArea.style.display = 'none';

                try {
                    const code = await generateScript(prompt, provider, model);
                    displayCode(code);
                    showMessage('success', '‚úÖ GDScript generated successfully!');
                } catch (error) {
                    showMessage('error', `‚ùå Error: ${error.message}`);
                } finally {
                    generateBtn.disabled = false;
                    loading.classList.remove('active');
                }
            });

            async function generateScript(prompt, provider, model) {
                const systemPrompt = `You are an expert Godot 4.4 game developer. Generate clean, production-ready GDScript 4.4 code.
Requirements:
1. Use GDScript 4.4 syntax
2. Include proper type hints and comments
3. Follow Godot best practices
4. Structure code logically
5. Default to 3D unless specified
6. Make it production ready

User request: ${prompt}

Generate only the GDScript code, no explanations.`;

                if (provider === 'groq') {
                    const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${API_KEYS.groq}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            model: model,
                            messages: [
                                { role: 'system', content: systemPrompt },
                                { role: 'user', content: prompt }
                            ],
                            temperature: 0.7,
                            max_tokens: 4000
                        })
                    });

                    if (!response.ok) {
                        const error = await response.json();
                        throw new Error(error.error?.message || 'API Error');
                    }

                    const data = await response.json();
                    return data.choices[0].message.content.trim();
                } else { // gemini
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${API_KEYS.gemini}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{ text: systemPrompt }]
                            }],
                            generationConfig: {
                                temperature: 0.7,
                                maxOutputTokens: 4000
                            }
                        })
                    });

                    if (!response.ok) {
                        const error = await response.json();
                        throw new Error(error.error?.message || 'API Error');
                    }

                    const data = await response.json();
                    return data.candidates[0].content.parts[0].text.trim();
                }
            }

            function displayCode(code) {
                code = code.replace(/```(?:gdscript)?\n?/g, '').replace(/```/g, '').trim();
                codeOutput.textContent = code;
                outputArea.style.display = 'block';
                outputArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            function showMessage(type, message) {
                const element = type === 'error' ? errorMessage : successMessage;
                element.textContent = message;
                element.classList.add('show');
                
                if (type === 'success') {
                    setTimeout(() => element.classList.remove('show'), 3000);
                }
            }

            function hideMessages() {
                errorMessage.classList.remove('show');
                successMessage.classList.remove('show');
            }

            copyBtn.addEventListener('click', function() {
                const code = codeOutput.textContent;
                navigator.clipboard.writeText(code).then(() => {
                    copyBtn.textContent = '‚úì Copied!';
                    setTimeout(() => {
                        copyBtn.textContent = 'üìã Copy Code';
                    }, 2000);
                });
            });

            downloadBtn.addEventListener('click', function() {
                const code = codeOutput.textContent;
                const blob = new Blob([code], { type: 'text/x-gdscript' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'godot_ai_script.gd';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                downloadBtn.textContent = '‚úì Downloaded!';
                setTimeout(() => {
                    downloadBtn.textContent = 'üíæ Download';
                }, 2000);
            });

            // Example prompts
            const examplePrompts = [
                "Create a 2D player controller with double jump and dash",
                "Make an inventory system for an RPG game",
                "Generate enemy AI with patrol and chase states",
                "Create a health and damage system for a shooter game",
                "Make a save/load system using JSON"
            ];

            // Set random example on load
            const randomPrompt = examplePrompts[Math.floor(Math.random() * examplePrompts.length)];
            promptInput.placeholder = `Example: ${randomPrompt}`;
        });

        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileCloseBtn = document.getElementById('mobileCloseBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

        function openMobileMenu() {
            mobileMenu.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            document.body.classList.add('menu-open');
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            document.body.classList.remove('menu-open');
        }

        mobileMenuBtn.addEventListener('click', openMobileMenu);
        mobileCloseBtn.addEventListener('click', closeMobileMenu);
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);
    </script>
</body>
</html>
